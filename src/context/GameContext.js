import AsyncStorage from "@react-native-async-storage/async-storage";
import { createContext, useContext, useEffect, useState } from "react";

export const GameContext = createContext({});

export function GameProvider({ children }) {
  const [players, setPlayers] = useState([]);
  const [impostorId, setImpostorId] = useState(null);
  const [word, setWord] = useState("");
  const [hint, setHint] = useState(""); // ğŸ’¡ NUEVO: hint
  const [gameWinner, setGameWinner] = useState(null);
  const [alivePlayers, setAlivePlayers] = useState([]);
  const [category, setCategory] = useState(null);
  const [subCategory, setSubCategory] = useState(null);
  const [hintsEnabled, setHintsEnabled] = useState(true); // o false por defecto

  // âš™ï¸ ConfiguraciÃ³n guardada
  const [soundEnabled, setSoundEnabled] = useState(true);
  const [impostorCount, setImpostorCount] = useState(1);

  useEffect(() => {
  const loadSettings = async () => {
    try {
      const savedSound = await AsyncStorage.getItem("soundEnabled");
      const savedImpostorCount = await AsyncStorage.getItem("impostorCount");
      const savedHintsEnabled = await AsyncStorage.getItem("hintsEnabled");

      if (savedSound !== null) setSoundEnabled(JSON.parse(savedSound));
      if (savedImpostorCount !== null) setImpostorCount(Number(savedImpostorCount));
      if (savedHintsEnabled !== null) setHintsEnabled(JSON.parse(savedHintsEnabled));
    } catch (e) {
      console.warn("âš ï¸ Error cargando configuraciones:", e);
    }
  };
  loadSettings();
}, []);

useEffect(() => {
  AsyncStorage.setItem("soundEnabled", JSON.stringify(soundEnabled));
}, [soundEnabled]);

useEffect(() => {
  AsyncStorage.setItem("impostorCount", impostorCount.toString());
}, [impostorCount]);

useEffect(() => {
  AsyncStorage.setItem("hintsEnabled", JSON.stringify(hintsEnabled));
}, [hintsEnabled]);

  // ğŸ“š Palabras + pistas
  const defaultWords = {
    general: {
    general: [
      { word: "Perro", hint: "Ladra" },
      { word: "Gato", hint: "Maulla" },
      { word: "Mate", hint: "Bombilla" },
      { word: "CafÃ©", hint: "Taza" },
      { word: "Playa", hint: "Arena" },
      { word: "MontaÃ±a", hint: "Altura" },
      { word: "Pizza", hint: "Queso" },
      { word: "Escuela", hint: "Clases" },
      { word: "AviÃ³n", hint: "Vuela" },
      { word: "Computadora", hint: "Pantalla" },
      { word: "Hospital", hint: "MÃ©dico" },
      { word: "Libro", hint: "PÃ¡ginas" },
      { word: "Reloj", hint: "Hora" },
      { word: "TelÃ©fono", hint: "Llamada" },
      { word: "Cine", hint: "PelÃ­cula" },
      { word: "Museo", hint: "Arte" },
      { word: "JardÃ­n", hint: "Flores" },
      { word: "Supermercado", hint: "Carrito" },
      { word: "Helado", hint: "FrÃ­o" },
      { word: "Amigo", hint: "Confianza" },
      { word: "Familia", hint: "Casa" },
      { word: "Trabajo", hint: "Oficina" },
      { word: "Fiesta", hint: "Baile" },
      { word: "Chocolate", hint: "Dulce" },
      { word: "Sombrero", hint: "Cabeza" },
      { word: "Ventana", hint: "Vidrio" },
      { word: "Camisa", hint: "Ropa" },
      { word: "Auto", hint: "Ruedas" },
      { word: "Moto", hint: "Casco" },
      { word: "Bicicleta", hint: "Pedales" },
      { word: "Lluvia", hint: "Paraguas" },
      { word: "Sol", hint: "Calor" },
      { word: "Nieve", hint: "Blanca" },
      { word: "Ciudad", hint: "TrÃ¡nsito" },
      { word: "Campo", hint: "Tranquilo" },
      { word: "RÃ­o", hint: "Agua" },
      { word: "Bosque", hint: "Ãrboles" },
      { word: "Casa", hint: "Techo" },
      { word: "Hotel", hint: "Turista" },
      { word: "Cama", hint: "SueÃ±o" },
      { word: "Radio", hint: "Sonido" },
      { word: "Televisor", hint: "Canales" },
      { word: "Comida", hint: "Plato" },
      { word: "Puerta", hint: "Entrada" },
      { word: "Zapato", hint: "Pie" },
      { word: "Mesa", hint: "Comedor" },
      { word: "Silla", hint: "Sentarse" },
      { word: "LÃ¡mpara", hint: "Luz" },
      { word: "Escalera", hint: "PeldaÃ±os" },
      { word: "Puente", hint: "Cruzar" },
      { word: "Carpeta", hint: "Papel" },
      { word: "Asado", hint: "Parrilla" },
      { word: "Parrilla", hint: "CarbÃ³n" },
      { word: "FernÃ©", hint: "Coca" },
      { word: "Termo", hint: "Agua" },
      { word: "Bombilla", hint: "Metal" },
      { word: "Ã‘eri", hint: "Amigo" },
      { word: "Che", hint: "ExpresiÃ³n" },
      { word: "Boliche", hint: "Noche" },
      { word: "Colectivo", hint: "Parada" },
      { word: "Camioneta", hint: "Rural" },
      { word: "Barrio", hint: "Vecino" },
      { word: "PancherÃ­a", hint: "Mostaza" },
      { word: "FiambrerÃ­a", hint: "JamÃ³n" },
      { word: "Kiosco", hint: "Golosina" },
      { word: "Mate dulce", hint: "AzÃºcar" },
      { word: "Yerba", hint: "Verde" },
      { word: "Refresco", hint: "Burbuja" },
      { word: "Pancho", hint: "Salchicha" },
      { word: "Empanada", hint: "Relleno" },
      { word: "Milanga", hint: "Napolitana" },
    ],
  },

    futbol: {
      general: [
        { word: "Pelota", hint: "Redonda" },
        { word: "Ãrbitro", hint: "Silbato" },
        { word: "Arco", hint: "Red" },
        { word: "Cancha", hint: "Pasto" },
        { word: "Offside", hint: "Adelantado" },
        { word: "Penal", hint: "Punto" },
        { word: "Hincha", hint: "PasiÃ³n" },
        { word: "CampeÃ³n", hint: "Trofeo" },
        { word: "Tiro libre", hint: "Falta" },
        { word: "Corner", hint: "Esquina" },
        { word: "Gol", hint: "Grito" },
        { word: "ExpulsiÃ³n", hint: "Roja" },
        { word: "VAR", hint: "Pantalla" },
        { word: "Final", hint: "Ãšltima" },
        { word: "Mundial", hint: "Selecciones" },
        { word: "Camiseta", hint: "Colores" },
        { word: "Botines", hint: "Pies" },
        { word: "Entrenador", hint: "Estrategia" },
        { word: "CapitÃ¡n", hint: "Brazalete" },
        { word: "Cambio", hint: "SustituciÃ³n" },
        { word: "LesiÃ³n", hint: "Dolor" },
        { word: "Tribuna", hint: "Gente" },
        { word: "ClÃ¡sico", hint: "Rivalidad" },
        { word: "Derrota", hint: "Tristeza" },
        { word: "Victoria", hint: "Festejo" },
        { word: "Empate", hint: "Igualdad" },
        { word: "TÃ¡ctica", hint: "Plan" },
        { word: "Defensa", hint: "Bloqueo" },
        { word: "Ataque", hint: "Ofensiva" },
        { word: "Medio campo", hint: "TransiciÃ³n" },
        { word: "Bombonera", hint: "Boca" },
        { word: "Monumental", hint: "River" },
        { word: "Centenario", hint: "Montevideo" },
        { word: "CampeÃ³n del Siglo", hint: "PeÃ±arol" },
        { word: "Celeste", hint: "Uruguay" },
        { word: "Albiceleste", hint: "Argentina" },
        { word: "CharrÃºa", hint: "Garra" },
        { word: "Barras", hint: "Hinchas" },
        { word: "Hinchas", hint: "Cantos" },
        { word: "Mate en la cancha", hint: "Termo" },
        { word: "Picado", hint: "Amigos" },
        { word: "FÃºtbol 5", hint: "ReducciÃ³n" },
        { word: "Cancha de barrio", hint: "Polvo" },
        { word: "ClÃ¡sico del RÃ­o de la Plata", hint: "HistÃ³rico" },
        { word: "Final del mundo", hint: "Ã‰pico" },
        { word: "SelecciÃ³n", hint: "PaÃ­s" },
        { word: "DT", hint: "TÃ¡ctico" },
        { word: "Golero", hint: "Atajada" },
        { word: "Patadura", hint: "Torpe" },
        { word: "Pelotazo", hint: "Fuerte" },
      ],
      jugadores: [
        { word: "Maradona", hint: "DIOS" },
        { word: "PelÃ©", hint: "Rey" },
        { word: "Zidane", hint: "Francia" },
        { word: "Ronaldinho", hint: "Sonrisa" },
        { word: "Ronaldo NazÃ¡rio", hint: "FenÃ³meno" },
        { word: "Henry", hint: "Arsenal" },
        { word: "Beckham", hint: "Moda" },
        { word: "Baresi", hint: "Milan" },
        { word: "Cannavaro", hint: "CapitÃ¡n" },
        { word: "Buffon", hint: "Arquero" },
        { word: "Iniesta", hint: "Final" },
        { word: "Xavi", hint: "Cerebro" },
        { word: "Pirlo", hint: "Elegancia" },
        { word: "Totti", hint: "Roma" },
        { word: "Del Piero", hint: "Juventus" },
        { word: "RaÃºl", hint: "Madrid" },
        { word: "Casillas", hint: "Portero" },
        { word: "KakÃ¡", hint: "Fe" },
        { word: "Shevchenko", hint: "Ucrania" },
        { word: "Maldini", hint: "Leyenda" },
        { word: "Batistuta", hint: "Goles" },
        { word: "Riquelme", hint: "Enganche" },
        { word: "Crespo", hint: "Delantero" },
        { word: "Aimar", hint: "Magia" },
        { word: "Simeone", hint: "DT" },
        { word: "Tevez", hint: "Apache" },
        { word: "Gallardo", hint: "MuÃ±eco" },
        { word: "VerÃ³n", hint: "Brujita" },
        { word: "Francescoli", hint: "PrÃ­ncipe" },
        { word: "ForlÃ¡n", hint: "Rubio" },
        { word: "Recoba", hint: "Zurda" },
        { word: "RubÃ©n Sosa", hint: "Tiro" },
        { word: "Obdulio Varela", hint: "Maracanazo" },
        { word: "Ghiggia", hint: "Gol" },
        { word: "Luis Cubilla", hint: "Wanderers" },
        { word: "Enzo Francescoli", hint: "River" },
        { word: "El Loco Abreu", hint: "Panenka" },
        { word: "Higuita", hint: "EscorpiÃ³n" },
        { word: "Valderrama", hint: "Pelo" },
        { word: "Puyol", hint: "CapitÃ¡n" },
        { word: "Roberto Carlos", hint: "Tiro" },
        { word: "Cafu", hint: "Brasil" },
        { word: "Van Nistelrooy", hint: "Goleador" },
        { word: "Lampard", hint: "Chelsea" },
        { word: "Gerrard", hint: "Liverpool" },
        { word: "Scholes", hint: "Rojo" },
        { word: "Cantona", hint: "Rebelde" },
        { word: "Vieira", hint: "Arsenal" },
        { word: "Zamorano", hint: "Chile" },
        { word: "Stoichkov", hint: "Bulgaria" },
        { word: "Messi", hint: "GOAT" },
        { word: "Cristiano Ronaldo", hint: "Siuu" },
        { word: "Neymar", hint: "Brasil" },
        { word: "MbappÃ©", hint: "Velocidad" },
        { word: "Haaland", hint: "Robot" },
        { word: "Vinicius Jr", hint: "Baile" },
        { word: "Rodrygo", hint: "Joven" },
        { word: "Bellingham", hint: "Joyita" },
        { word: "Valverde", hint: "Pajarito" },
        { word: "Enzo FernÃ¡ndez", hint: "Chelsea" },
        { word: "JuliÃ¡n Ãlvarez", hint: "AraÃ±a" },
        { word: "Lautaro MartÃ­nez", hint: "Toro" },
        { word: "Di MarÃ­a", hint: "Fideo" },
        { word: "De Paul", hint: "Motor" },
        { word: "Otamendi", hint: "Duro" },
        { word: "Romero", hint: "Cuti" },
        { word: "MartÃ­nez", hint: "Dibu" },
        { word: "Paredes", hint: "Pase" },
        { word: "Garnacho", hint: "Joven" },
        { word: "Dybala", hint: "Joya" },
        { word: "SuÃ¡rez", hint: "Pistolero" },
        { word: "Cavani", hint: "Matador" },
        { word: "NÃºÃ±ez", hint: "Liverpool" },
        { word: "Araujo", hint: "Defensa" },
        { word: "De La Cruz", hint: "River" },
        { word: "Bentancur", hint: "Tottenham" },
        { word: "Ugarte", hint: "PSG" },
        { word: "Torres", hint: "Orlando" },
        { word: "Vecino", hint: "Inter" },
        { word: "GimÃ©nez", hint: "AtlÃ©tico" },
        { word: "Modric", hint: "Croacia" },
        { word: "Kroos", hint: "AlemÃ¡n" },
        { word: "Rodri", hint: "City" },
        { word: "Pedri", hint: "BarÃ§a" },
        { word: "Gavi", hint: "Juvenil" },
        { word: "Lewandowski", hint: "Polonia" },
        { word: "Kane", hint: "Tottenham" },
        { word: "Saka", hint: "Arsenal" },
        { word: "Foden", hint: "InglÃ©s" },
        { word: "Barella", hint: "Inter" },
        { word: "Osimhen", hint: "Napoli" },
        { word: "Giroud", hint: "Francia" },
        { word: "Griezmann", hint: "Peinado" },
        { word: "Upamecano", hint: "Defensa" },
        { word: "KoundÃ©", hint: "Barcelona" },
        { word: "Hakimi", hint: "Marruecos" },
        { word: "Onana", hint: "Arquero" },
        { word: "Rashford", hint: "United" },
        { word: "Bruno Fernandes", hint: "Portugal" },
        { word: "Rice", hint: "Arsenal" },
        { word: "Musiala", hint: "Alemania" },
        { word: "Coman", hint: "Bayern" },
        { word: "Chiesa", hint: "Juventus" },
        { word: "Son Heung-min", hint: "Corea" },
        { word: "Trossard", hint: "BÃ©lgica" },
        { word: "MartÃ­n CÃ¡ceres", hint: "Veterano" },
        { word: "Brian RodrÃ­guez", hint: "Extremo" },
        { word: "Maxi AraÃºjo", hint: "Toluca" },
        { word: "Facundo Torres", hint: "Orlando" },
        { word: "ViÃ±a", hint: "Flamengo" },
      ],
      equipos: [
        { word: "Boca Juniors", hint: "Oro" },
        { word: "River Plate", hint: "Millonario" },
        { word: "PeÃ±arol", hint: "Abeja" },
        { word: "Nacional", hint: "Tricolor" },
        { word: "Defensor Sporting", hint: "Violeta" },
        { word: "Danubio", hint: "Universidad" },
        { word: "Liverpool (URU)", hint: "Cuchilla" },
        { word: "Racing Club", hint: "Academia" },
        { word: "Independiente", hint: "Rojo" },
        { word: "San Lorenzo", hint: "CiclÃ³n" },
        { word: "Estudiantes", hint: "Pincha" },
        { word: "Newell's", hint: "Lepra" },
        { word: "Rosario Central", hint: "Canalla" },
        { word: "ColÃ³n", hint: "Palmeras" },
        { word: "Gimnasia", hint: "Lobo" },
        { word: "LanÃºs", hint: "Granate" },
        { word: "Talleres", hint: "Matador" },
        { word: "VÃ©lez", hint: "Italia" },
        { word: "Argentinos Juniors", hint: "Semillero" },
        { word: "Racing (URU)", hint: "Escuela" },
        { word: "Real Madrid", hint: "GalÃ¡ctico" },
        { word: "Barcelona", hint: "Mediatico" },
        { word: "PSG", hint: "Jeque" },
        { word: "Manchester City", hint: "Cielo" },
        { word: "Juventus", hint: "Bianconeri" },
        { word: "Bayern MÃºnich", hint: "BÃ¡varo" },
        { word: "Inter", hint: "Nerazzurri" },
        { word: "Napoli", hint: "Partenopei" },
        { word: "Flamengo", hint: "Mengao" },
        { word: "Palmeiras", hint: "VerdÃ£o" },
        { word: "Benfica", hint: "Ãguilas" },
        { word: "Chelsea", hint: "Blues" },
        { word: "Arsenal", hint: "CaÃ±on" },
        { word: "Liverpool", hint: "Resbalon" },
        { word: "AtlÃ©tico de Madrid", hint: "Colchonero" },
        { word: "Borussia Dortmund", hint: "Amarillo" },
        { word: "Ajax", hint: "Mitologia" },
        { word: "Porto", hint: "Dragones" },
        { word: "AC Milan", hint: "Rossoneri" },
        { word: "Roma", hint: "Loba" },
      ],
    },
    cine: {
      general: [
        { word: "Actor", hint: "InterpretaciÃ³n" },
        { word: "CÃ¡mara", hint: "GrabaciÃ³n" },
        { word: "Palomitas", hint: "Snack" },
        { word: "AcciÃ³n", hint: "Escena" },
        { word: "Director", hint: "Ordena" },
        { word: "Drama", hint: "EmociÃ³n" },
        { word: "Comedia", hint: "Risa" },
        { word: "Terror", hint: "Miedo" },
        { word: "Oscar", hint: "Premio" },
        { word: "Escena", hint: "Rodaje" },
        { word: "GuiÃ³n", hint: "Texto" },
        { word: "Rodaje", hint: "FilmaciÃ³n" },
        { word: "TrÃ¡iler", hint: "Adelanto" },
        { word: "Cineasta", hint: "Director" },
        { word: "Pantalla", hint: "ProyecciÃ³n" },
        { word: "Butaca", hint: "Asiento" },
        { word: "Proyector", hint: "Luz" },
        { word: "CrÃ­tica", hint: "OpiniÃ³n" },
        { word: "Vestuario", hint: "Ropa" },
        { word: "Maquillaje", hint: "Rostro" },
        { word: "Efectos especiales", hint: "Visuales" },
        { word: "Sonido", hint: "Audio" },
        { word: "ClÃ­max", hint: "TensiÃ³n" },
        { word: "Secuela", hint: "ContinuaciÃ³n" },
        { word: "PelÃ­cula", hint: "Film" },
        { word: "Serie", hint: "Episodios" },
        { word: "Documental", hint: "Realidad" },
        { word: "Netflix", hint: "Streaming" },
        { word: "Estreno", hint: "Nuevo" },
        { word: "Spoiler", hint: "RevelaciÃ³n" },
        { word: "Popcorn", hint: "MaÃ­z" },
        { word: "CinÃ©polis", hint: "Cine" },
        { word: "Sala", hint: "ProyecciÃ³n" },
        { word: "Protagonista", hint: "Principal" },
        { word: "Cortometraje", hint: "Breve" },
      ],
      peliculas: [
        { word: "Inception", hint: "SueÃ±os" },
        { word: "Titanic", hint: "Iceberg" },
        { word: "Avatar", hint: "Pandora" },
        { word: "Gladiador", hint: "Arena" },
        { word: "Matrix", hint: "Realidad" },
        { word: "Joker", hint: "Payaso" },
        { word: "Forrest Gump", hint: "Corredor" },
        { word: "Interstellar", hint: "Espacio" },
        { word: "El Padrino", hint: "Mafia" },
        { word: "La La Land", hint: "MÃºsica" },
        { word: "Avatar", hint: "James Cameron" },
        { word: "Jurassic Park", hint: "Dinosaurios" },
        { word: "El SeÃ±or de los Anillos", hint: "Anillo" },
        { word: "Harry Potter", hint: "Magia" },
        { word: "Piratas del Caribe", hint: "Barco" },
        { word: "Star Wars", hint: "Galaxia" },
        { word: "El Resplandor", hint: "Hotel" },
        { word: "Toy Story", hint: "Juguetes" },
        { word: "Coco", hint: "DÃ­a de los Muertos" },
        { word: "Up", hint: "Globos" },
        { word: "Frozen", hint: "Hielo" },
        { word: "El Rey LeÃ³n", hint: "Simba" },
        { word: "Buscando a Nemo", hint: "Pez" },
        { word: "Los Vengadores", hint: "SuperhÃ©roes" },
        { word: "Deadpool", hint: "Chistes" },
        { word: "Black Panther", hint: "Wakanda" },
        { word: "Doctor Strange", hint: "Hechicero" },
        ],
        actores: [
          { word: "Leonardo DiCaprio", hint: "Titanic" },
          { word: "Brad Pitt", hint: "Fight Club" }, 
          { word: "Meryl Streep", hint: "Actriz" },
          { word: "Tom Hanks", hint: "Forrest Gump" },
          { word: "Scarlett Johansson", hint: "Black Widow" },
          { word: "Robert Downey Jr.", hint: "Iron Man" },
          { word: "Natalie Portman", hint: "Black Swan" },
          { word: "Johnny Depp", hint: "Piratas del Caribe" },
          { word: "Angelina Jolie", hint: "Tomb Raider" },
          { word: "Denzel Washington", hint: "Training Day" },
          { word: "Jennifer Lawrence", hint: "Hunger Games" },
          { word: "Morgan Freeman", hint: "Narrador" },
          { word: "Emma Stone", hint: "La La Land" },
          { word: "Christian Bale", hint: "Batman" },
          { word: "Anne Hathaway", hint: "Les MisÃ©rables" },
          { word: "Will Smith", hint: "Men in Black" },
          { word: "Gal Gadot", hint: "Wonder Woman" },
          { word: "Hugh Jackman", hint: "Wolverine" },
          { word: "Kate Winslet", hint: "Titanic" },
          { word: "Chris Hemsworth", hint: "Thor" },
        ],
    },
    videojuegos: {
      general: [
        { word: "Control", hint: "Mando" },
        { word: "Nivel", hint: "Etapa" },
        { word: "Puntos", hint: "Score" },
        { word: "Enemigo", hint: "Rival" },
        { word: "Personaje", hint: "Avatar" },
        { word: "MisiÃ³n", hint: "Objetivo" },
        { word: "Arma", hint: "Fuego" },
        { word: "Salto", hint: "Brinco" },
        { word: "Vida", hint: "CorazÃ³n" },
        { word: "Juego", hint: "DiversiÃ³n" },
        { word: "Pantalla", hint: "Monitor" },
        { word: "Joystick", hint: "Palanca" },
        { word: "Estrategia", hint: "Plan" },
        { word: "Multijugador", hint: "Varios" },
        { word: "Aventura", hint: "ExploraciÃ³n" },
        { word: "GrÃ¡ficos", hint: "Visuales" },
        { word: "Sonido", hint: "Audio" },
        { word: "Descarga", hint: "Internet" },
        { word: "Consola", hint: "Plataforma" },
        { word: "PlayStation", hint: "Sony" },
        { word: "Xbox", hint: "Microsoft" },
        { word: "Nintendo", hint: "Switch" },
        { word: "Mario", hint: "Fontanero" },
        { word: "Zelda", hint: "Hyrule" },
        { word: "Minecraft", hint: "Bloques" },
        { word: "FIFA", hint: "FÃºtbol" },
        { word: "GTA", hint: "Crimen" },
        { word: "Counter Strike", hint: "Disparos" },
        { word: "Valorant", hint: "Agentes" },
        { word: "Fortnite", hint: "ConstrucciÃ³n" },
        { word: "Call of Duty", hint: "Guerra" },
        { word: "Among Us", hint: "Impostor" },
        { word: "The Sims", hint: "Vida" },
        { word: "LOL", hint: "MOBA" },
        { word: "PUBG", hint: "Battle" },
        { word: "Rocket League", hint: "Autos" },
        { word: "PokÃ©mon", hint: "Criaturas" },
        { word: "Tetris", hint: "Piezas" },
        { word: "Sonic", hint: "Velocidad" },
        { word: "Pac-Man", hint: "Laberinto" },
        { word: "Guitar Hero", hint: "MÃºsica" },
        { word: "Crash Bandicoot", hint: "Marsupial" },
        { word: "Red Dead", hint: "Oeste" },
        { word: "Roblox", hint: "Mundos" },
        { word: "Fall Guys", hint: "CaÃ­das" },
        { word: "Free Fire", hint: "Supervivencia" },
        { word: "Skyrim", hint: "Dragones" },
        { word: "Halo", hint: "Jefe" },
        { word: "Overwatch", hint: "HÃ©roes" },
      ],
    },
    musica: {
      general: [
      { word: "Guitarra", hint: "Cuerdas" },
      { word: "BaterÃ­a", hint: "PercusiÃ³n" },
      { word: "MicrÃ³fono", hint: "Voz" },
      { word: "Concierto", hint: "Escenario" },
      { word: "Rock", hint: "ElÃ©ctrico" },
      { word: "Pop", hint: "Comercial" },
      { word: "ReggaetÃ³n", hint: "Urbano" },
      { word: "Nota", hint: "Tono" },
      { word: "DJ", hint: "Mezcla" },
      { word: "MelodÃ­a", hint: "ArmonÃ­a" },
      { word: "Ritmo", hint: "CompÃ¡s" },
      { word: "Disco", hint: "Vinilo" },
      { word: "GrabaciÃ³n", hint: "Estudio" },
      { word: "Escenario", hint: "Luces" },
      { word: "Auriculares", hint: "Escucha" },
      { word: "Altavoz", hint: "Sonido" },
      { word: "Festival", hint: "Multitud" },
      { word: "Baile", hint: "Movimiento" },
      { word: "Letra", hint: "CanciÃ³n" },
      { word: "Coro", hint: "Voces" },
      { word: "Instrumento", hint: "MÃºsica" },
      { word: "Piano", hint: "Teclas" },
      { word: "ViolÃ­n", hint: "Arco" },
      { word: "Bajo", hint: "Graves" },
      { word: "Ensayo", hint: "PreparaciÃ³n" },
      { word: "Cumbia", hint: "Latina" },
      { word: "Murga", hint: "Carnaval" },
      { word: "Tambor", hint: "Golpe" },
      { word: "Milonga", hint: "Tango" },
      { word: "Folklore", hint: "TradiciÃ³n" },
      ],
      cantantes: [
        { word: "Abel Pintos", hint: "Balada" },
        { word: "Soledad", hint: "Folklore" },
        { word: "Chano", hint: "Pop" },
        { word: "Wos", hint: "Freestyle" },
        { word: "Nicki Nicole", hint: "Trap" },
        { word: "Bizarrap", hint: "Productor" },
        { word: "Trueno", hint: "Rap" },
        { word: "Duki", hint: "Trap" },
        { word: "Maria Becerra", hint: "Pop" },
        { word: "Tini", hint: "Disney" },
        { word: "Callejeros", hint: "Rock" },
        { word: "No Te Va Gustar", hint: "Uruguay" },
        { word: "La Vela Puerca", hint: "Murga" },
        { word: "El Cuarteto de Nos", hint: "IronÃ­a" },
        { word: "Lucas Sugo", hint: "RomÃ¡ntico" },
        { word: "Jaime Roos", hint: "Montevideo" },
        { word: "Rombai", hint: "Cumbia" },
        { word: "Marama", hint: "Fiesta" },
        { word: "Los AutÃ©nticos Decadentes", hint: "Fiesta" },
        { word: "Los Fabulosos Cadillacs", hint: "Ska" },
        { word: "Soda Stereo", hint: "Leyenda" },
        { word: "Gustavo Cerati", hint: "Ãdolo" },
        { word: "Ciro", hint: "Piojos" },
        { word: "AndrÃ©s Calamaro", hint: "Rock" },
        { word: "Fito PÃ¡ez", hint: "Rosario" },
        { word: "La Renga", hint: "Guitarra" },
        { word: "Patricio Rey", hint: "Redondos" },
        { word: "Tan BiÃ³nica", hint: "Ciudad" },
        { word: "Bersuit", hint: "Vergarabat" },
        { word: "Axel", hint: "Romance" },
        { word: "Taylor Swift", hint: "Pop" },
        { word: "Bad Bunny", hint: "ReggaetÃ³n" },
        { word: "Queen", hint: "Freddie" },
        { word: "The Beatles", hint: "Liverpool" },
        { word: "Shakira", hint: "Colombia" },
        { word: "Maluma", hint: "MedellÃ­n" },
        { word: "Dua Lipa", hint: "BritÃ¡nica" },
        { word: "Ozuna", hint: "Puerto Rico" },
        { word: "Adele", hint: "Voz" },
        { word: "Bruno Mars", hint: "Show" },
        { word: "Billie Eilish", hint: "Oscura" },
        { word: "Ed Sheeran", hint: "Guitarra" },
        { word: "Rauw Alejandro", hint: "Dance" },
        { word: "Karol G", hint: "Bichota" },
        { word: "BeyoncÃ©", hint: "Queen" },
        { word: "Michael Jackson", hint: "Rey" },
        { word: "The Weeknd", hint: "Oscuridad" },
        { word: "Coldplay", hint: "Color" },
        { word: "RosalÃ­a", hint: "Motomami" },
        { word: "Justin Bieber", hint: "CanadÃ¡" },
        { word: "Harry Styles", hint: "Moda" },
        { word: "Nirvana", hint: "Grunge" },
        { word: "Selena Gomez", hint: "Disney" },
        { word: "Post Malone", hint: "Tatuajes" },
        { word: "Drake", hint: "Toronto" },
        { word: "Luis Fonsi", hint: "Despacito" },
        { word: "Daddy Yankee", hint: "Gasolina" },
        { word: "Jennifer Lopez", hint: "Diva" },
        { word: "Camila Cabello", hint: "Havana" },
        { word: "Imagine Dragons", hint: "Radioactive" },
        { word: "Eminem", hint: "Rap" },
        { word: "Katy Perry", hint: "California" },
      ],
      canciones: [
        { word: "La Cumbia de los Trapos", hint: "Barrio" },
        { word: "De MÃºsica Ligera", hint: "Soda" },
        { word: "En el BalcÃ³n", hint: "Chano" },
        { word: "Ciudad MÃ¡gica", hint: "TanBiÃ³nica" },
        { word: "Me Hace Bien", hint: "Axel" },
        { word: "Brindis", hint: "Soledad" },
        { word: "Todo Cambia", hint: "Mercedes" },
        { word: "ArrancÃ¡rmelo", hint: "Wos" },
        { word: "Ella Baila Sola", hint: "Ã‰xito" },
        { word: "Loco", hint: "Calamaro" },
        { word: "Y Sin Embargo", hint: "Sabina" },
        { word: "Don", hint: "Miranda" },
        { word: "Crimen", hint: "Cerati" },
        { word: "Color Esperanza", hint: "Optimismo" },
        { word: "Mi Princesa", hint: "Axel" },
        { word: "La Noche", hint: "Sugo" },
        { word: "Cielito Lindo", hint: "MÃ©xico" },
        { word: "Cuando Pase el Temblor", hint: "Soda" },
        { word: "Persiana Americana", hint: "ClÃ¡sico" },
        { word: "Madura", hint: "Rombai" },
        { word: "Bipolar", hint: "Marama" },
        { word: "Universo Paralelo", hint: "Roos" },
        { word: "Bohemian Rhapsody", hint: "Queen" },
        { word: "Despacito", hint: "Fonsi" },
        { word: "Smells Like Teen Spirit", hint: "Nirvana" },
        { word: "Thriller", hint: "Jackson" },
        { word: "Hey Jude", hint: "Beatles" },
        { word: "Havana", hint: "Camila" },
        { word: "Blinding Lights", hint: "Weeknd" },
        { word: "As It Was", hint: "Harry" },
        { word: "Shape of You", hint: "Sheeran" },
        { word: "Uptown Funk", hint: "Bruno" },
        { word: "Someone Like You", hint: "Adele" },
        { word: "Levitating", hint: "Dua" },
        { word: "Flowers", hint: "Miley" },
        { word: "Dance Monkey", hint: "Tones" },
        { word: "Tusa", hint: "Karol" },
        { word: "La CanciÃ³n", hint: "BadBunny" },
        { word: "Rolling in the Deep", hint: "Adele" },
        { word: "Bad Guy", hint: "Billie" },
        { word: "Perfect", hint: "Ed" },
        { word: "Viva la Vida", hint: "Coldplay" },
        { word: "Peaches", hint: "Bieber" },
        { word: "SeÃ±orita", hint: "Camila" },
        { word: "Calma", hint: "Pedro" },
        { word: "TitÃ­ Me PreguntÃ³", hint: "Bunny" },
        { word: "Stay", hint: "Kid" },
        { word: "Shallow", hint: "Gaga" },
        { word: "Rockstar", hint: "Post" },
        { word: "DÃ¡kiti", hint: "Rauw" },
        { word: "Montero", hint: "LilNas" },
        { word: "Umbrella", hint: "Rihanna" },
      ],
    },
    comida: {
      general: [
        { word: "Pizza", hint: "Italiana" },
        { word: "Hamburguesa", hint: "Fast food" },
        { word: "Papas fritas", hint: "Papas" },
        { word: "Helado", hint: "Dulce" },
        { word: "Empanada", hint: "Relleno" },
        { word: "Asado", hint: "Carne" },
        { word: "Milanesa", hint: "Rebozada" },
        { word: "Chivito", hint: "Uruguaya" },
        { word: "Pancho", hint: "Hot dog" },
        { word: "Tarta", hint: "Horneada" },
        { word: "Pastel", hint: "Dulce" },
        { word: "Tortilla", hint: "Huevos" },
        { word: "FainÃ¡", hint: "Garbanzos" },
        { word: "ChoripÃ¡n", hint: "Chorizo" },
        { word: "Panchito", hint: "PequeÃ±o" },
        { word: "LasaÃ±a", hint: "Capas" },
        { word: "Ã‘oquis", hint: "Pasta" },
        { word: "Ravioles", hint: "Rellenos" },
        { word: "Parrilla", hint: "Asado" },
        { word: "Dulce de leche", hint: "Postre" },
        { word: "Ceviche", hint: "PerÃº" },
        { word: "Sushi", hint: "JapÃ³n" },
        { word: "Tacos", hint: "MÃ©xico" },
        { word: "Paella", hint: "EspaÃ±a" },
        { word: "Curry", hint: "India" },
        { word: "Goulash", hint: "HungrÃ­a" },
        { word: "Moussaka", hint: "Grecia" },
      ],    
    },
    paises: {
        general: [
        { word: "Uruguay", hint: "Mate" },
        { word: "Argentina", hint: "Asado" },
        { word: "Brasil", hint: "Samba" },
        { word: "Chile", hint: "Andes" },
        { word: "Paraguay", hint: "Ã‘andutÃ­" },
        { word: "Bolivia", hint: "Altiplano" },
        { word: "PerÃº", hint: "Machu Picchu" },
        { word: "Ecuador", hint: "GalÃ¡pagos" },
        { word: "Colombia", hint: "CafÃ©" },
        { word: "Venezuela", hint: "Arepa" },
        { word: "MÃ©xico", hint: "Tacos" },
        { word: "EspaÃ±a", hint: "Paella" },
        { word: "Italia", hint: "Pizza" },
        { word: "Francia", hint: "Torre" },
        { word: "Alemania", hint: "Oktoberfest" },
        { word: "Portugal", hint: "Lisboa" },
        { word: "JapÃ³n", hint: "Sushi" },
        { word: "China", hint: "Gran Muralla" },
        { word: "Rusia", hint: "MoscÃº" },
        { word: "CanadÃ¡", hint: "Maple" },
        { word: "Australia", hint: "Canguro" },
        { word: "Suiza", hint: "Reloj" },
        { word: "Grecia", hint: "AcrÃ³polis" },
        { word: "Irlanda", hint: "Leprechaun" },
        { word: "Holanda", hint: "Tulipanes" },
        { word: "Suecia", hint: "Vikingos" },
        { word: "Corea del Sur", hint: "SeÃºl" },
        { word: "SudÃ¡frica", hint: "Safari" },
        { word: "Egipto", hint: "PirÃ¡mides" },
      ],
    },
  marcas: {
      general: [
        { word: "Nike", hint: "Just Do It" },
        { word: "Adidas", hint: "Tres Rayas" },
        { word: "Apple", hint: "Manzana" },
        { word: "Samsung", hint: "ElectrÃ³nica" },
        { word: "Coca-Cola", hint: "Refresco" },
        { word: "Pepsi", hint: "Competencia" },
        { word: "McDonald's", hint: "Arcos Dorados" },
        { word: "Starbucks", hint: "CafÃ©" },
        { word: "Toyota", hint: "Autos" },
        { word: "Honda", hint: "Motocicletas" },
        { word: "Ford", hint: "Mustang" },
        { word: "Chevrolet", hint: "Camaro" },
        { word: "Louis Vuitton", hint: "Lujo" },
        { word: "Gucci", hint: "Moda" },
        { word: "Zara", hint: "Ropa" },
        { word: "H&M", hint: "Moda RÃ¡pida" },
      ],    
    },
    autos: {
      general: [
        { word: "Volante", hint: "Conducir" },
        { word: "Motor", hint: "Potencia" },
        { word: "NeumÃ¡ticos", hint: "Llantas" },
        { word: "Freno", hint: "Detener" },
        { word: "Acelerador", hint: "Velocidad" },
        { word: "Cambio", hint: "Marcha" },
        { word: "Luces", hint: "Faros" },
        { word: "Parabrisas", hint: "Vidrio" },
        { word: "Asiento", hint: "Confort" },
        { word: "Maletero", hint: "Equipaje" },
        { word: "Escape", hint: "Ruido" },
        { word: "CapÃ³", hint: "Motor" },
        { word: "Retrovisor", hint: "VisiÃ³n" },
        { word: "BaterÃ­a", hint: "EnergÃ­a" },
        { word: "Combustible", hint: "Gasolina" },
        { word: "Tren de aterrizaje", hint: "Ruedas" },
      ],    
    },
    astronomia: {
      general: [
        { word: "Estrella", hint: "Brilla" }, 
        { word: "Planeta", hint: "Ã“rbita" },
        { word: "Galaxia", hint: "VÃ­a LÃ¡ctea" },
        { word: "Cometa", hint: "Cola" },
        { word: "Asteroide", hint: "Roca" },
        { word: "Nebulosa", hint: "Nube" },
        { word: "Agujero negro", hint: "Gravedad" },
        { word: "ConstelaciÃ³n", hint: "Estrellas" },
        { word: "SatÃ©lite", hint: "Ã“rbita" },
        { word: "Meteorito", hint: "Impacto" },
        { word: "CrÃ¡ter", hint: "Impacto" },
        { word: "Luna", hint: "Satelite" },
        { word: "Sol", hint: "Estrella" },
        { word: "VÃ­a LÃ¡ctea", hint: "Galaxia" },
        { word: "Ã“rbita", hint: "Trayectoria" },
        { word: "Telescopio", hint: "ObservaciÃ³n" },
      ],
    },
    moda: {
      general: [
        { word: "Vestido", hint: "Ropa" },
        { word: "Zapatos", hint: "Calzado" },
        { word: "Sombrero", hint: "Cabeza" },
        { word: "Bolso", hint: "Accesorio" },
        { word: "Camisa", hint: "Parte superior" },
        { word: "Pantalones", hint: "Inferior" },
        { word: "Falda", hint: "Ropa" },
        { word: "Chaqueta", hint: "Abrigo" },
        { word: "Bufanda", hint: "Cuello" },
        { word: "Guantes", hint: "Manos" },
        { word: "CinturÃ³n", hint: "SujeciÃ³n" },
        { word: "Reloj", hint: "Tiempo" },
        { word: "Gafas de sol", hint: "Ojos" },
        { word: "Traje", hint: "Formal" },
        { word: "Corbata", hint: "Cuello" },
        { word: "Calcetines", hint: "Pies" },
      ],
    },
    arte: {
      general: [
        { word: "Pintura", hint: "Lienzo" },
        { word: "Escultura", hint: "3D" },
        { word: "Dibujo", hint: "LÃ¡piz" },
        { word: "GalerÃ­a", hint: "ExposiciÃ³n" },
        { word: "Museo", hint: "Arte" },
        { word: "Artista", hint: "Creador" },
        { word: "Cuadro", hint: "Imagen" },
        { word: "Brocha", hint: "Pincel" },
        { word: "LÃ¡piz", hint: "Dibujo" },
        { word: "Carboncillo", hint: "Dibujo" },
        { word: "Acuarela", hint: "Pintura" },
        { word: "Ã“leo", hint: "Pintura" },
        { word: "Boceto", hint: "Preliminar" },
        { word: "ExposiciÃ³n", hint: "Muestra" },
        { word: "Retrato", hint: "Persona" },
        { word: "Paisaje", hint: "Naturaleza" },
      ],
    },
    juegos: {
      general: [
        { word: "Tablero", hint: "Juego de mesa" },
        { word: "Ficha", hint: "Pieza" },
        { word: "Dado", hint: "NÃºmero" },
        { word: "Cartas", hint: "Mazo" },
        { word: "Ajedrez", hint: "Rey" },
        { word: "Monopoly", hint: "Dinero" },
        { word: "Scrabble", hint: "Palabras" },
        { word: "ParchÃ­s", hint: "Casillas" },
        { word: "DominÃ³", hint: "Piezas" },
        { word: "Ruleta", hint: "Casino" },
        { word: "Truco", hint: "Mentira" },
        { word: "Cartagena", hint: "Piratas" },
        { word: "Clue", hint: "Asesinato" },
        { word: "Risk", hint: "Conquista" },
        { word: "Jenga", hint: "Bloques" },
        { word: "Twister", hint: "Colores" },
      ],    
    },
    television: {
      general: [
        { word: "Serie", hint: "Episodios" },
        { word: "Canal", hint: "TelevisiÃ³n" },
        { word: "Control remoto", hint: "Mando" },
        { word: "Episodio", hint: "Parte" },
        { word: "Temporada", hint: "Conjunto" },
        { word: "Actor", hint: "InterpretaciÃ³n" },
        { word: "Actriz", hint: "InterpretaciÃ³n" },
        { word: "Guion", hint: "Texto" },
        { word: "Director", hint: "Ordena" },
        { word: "Productor", hint: "Financia" },
        { word: "Reality show", hint: "Realidad" },
        { word: "Comedia", hint: "Risa" },
        { word: "Drama", hint: "EmociÃ³n" },
        { word: "Noticiero", hint: "Noticias" },
        { word: "Documental", hint: "Realidad" },
        { word: "Talk show", hint: "Entrevistas" },
      ],    
    },
    deportes: {
      general: [
        { word: "FÃºtbol", hint: "BalÃ³n" },
        { word: "Baloncesto", hint: "Canasta" },
        { word: "Tenis", hint: "Raqueta" },
        { word: "NataciÃ³n", hint: "Agua" },
        { word: "Ciclismo", hint: "Bicicleta" },
        { word: "Atletismo", hint: "Carrera" },
        { word: "Boxeo", hint: "Guantes" },
        { word: "Golf", hint: "Hoyo" },
        { word: "Rugby", hint: "Try" },
        { word: "VÃ³ley", hint: "Red" },
        { word: "Hockey", hint: "Palo" },
        { word: "EsquÃ­", hint: "Nieve" },
        { word: "Surf", hint: "Olas" },
        { word: "Skateboarding", hint: "Patineta" },
        { word: "Boxeo", hint: "Ring" },
        { word: "Arco y flecha", hint: "Tiro" },
      ],    
    },
    naturaleza: {
      general: [
        { word: "Ãrbol", hint: "Bosque" },
        { word: "RÃ­o", hint: "Agua" },
        { word: "MontaÃ±a", hint: "Altura" },
        { word: "Flor", hint: "JardÃ­n" },
        { word: "Animal", hint: "Fauna" },
        { word: "Insecto", hint: "PequeÃ±o" },
        { word: "Lago", hint: "Agua" },
        { word: "Mariposa", hint: "Alas" },
        { word: "Cielo", hint: "Azul" },
        { word: "Nube", hint: "AlgodÃ³n" },
        { word: "Playa", hint: "Arena" },
        { word: "Selva", hint: "Tropical" },
        { word: "Desierto", hint: "Arena" },
        { word: "VolcÃ¡n", hint: "ErupciÃ³n" },
        { word: "OcÃ©ano", hint: "Profundidad" },
        { word: "Cascada", hint: "CaÃ­da" },
      ],    
    },
    literatura: {
      general: [
        { word: "Libro", hint: "PÃ¡ginas" },
        { word: "Autor", hint: "Escritor" },
        { word: "Novela", hint: "FicciÃ³n" },
        { word: "Poema", hint: "Verso" },
        { word: "Cuento", hint: "Historia" },
        { word: "Biblioteca", hint: "Libros" },
        { word: "CapÃ­tulo", hint: "SecciÃ³n" },
        { word: "Personaje", hint: "Protagonista" },
        { word: "Trama", hint: "Argumento" },
        { word: "GÃ©nero", hint: "Tipo" },
        { word: "Ensayo", hint: "AnÃ¡lisis" },
        { word: "FicciÃ³n", hint: "ImaginaciÃ³n" },
        { word: "No ficciÃ³n", hint: "Realidad" },
        { word: "BiografÃ­a", hint: "Vida" },
        { word: "AutobiografÃ­a", hint: "Propia" },
        { word: "Editorial", hint: "PublicaciÃ³n" },
      ],    
    },
    historia: {
      general: [
        { word: "Guerra", hint: "Conflicto" },
        { word: "RevoluciÃ³n", hint: "Cambio" },
        { word: "Imperio", hint: "Dominio" },
        { word: "MonarquÃ­a", hint: "Rey" },
        { word: "Democracia", hint: "Pueblo" },
        { word: "ColonizaciÃ³n", hint: "ExploraciÃ³n" },
        { word: "Independencia", hint: "Libertad" },
        { word: "Tratado", hint: "Acuerdo" },
        { word: "Batalla", hint: "Lucha" },
        { word: "CivilizaciÃ³n", hint: "Cultura" },
        { word: "ArqueologÃ­a", hint: "Restos" },
        { word: "AntigÃ¼edad", hint: "Pasado" },
        { word: "Edad Media", hint: "Castillos" },
        { word: "Renacimiento", hint: "Arte" },
        { word: "RevoluciÃ³n Industrial", hint: "MÃ¡quinas" },
        { word: "Siglo", hint: "Cien aÃ±os" },
      ],    
    },
    ciencia: {
      general: [
        { word: "Ãtomo", hint: "PartÃ­cula" },
        { word: "MolÃ©cula", hint: "ComposiciÃ³n" },
        { word: "CÃ©lula", hint: "Vida" },
        { word: "EnergÃ­a", hint: "Fuerza" },
        { word: "Gravedad", hint: "AtracciÃ³n" },
        { word: "EvoluciÃ³n", hint: "Cambio" },
        { word: "GenÃ©tica", hint: "ADN" },
        { word: "Experimento", hint: "Prueba" },
        { word: "TeorÃ­a", hint: "ExplicaciÃ³n" },
        { word: "HipÃ³tesis", hint: "SuposiciÃ³n" },
        { word: "PartÃ­cula", hint: "PequeÃ±a" },
        { word: "FÃ­sica", hint: "Leyes" },
        { word: "QuÃ­mica", hint: "Reacciones" },
        { word: "BiologÃ­a", hint: "Seres vivos" },
        { word: "AstronomÃ­a", hint: "Estrellas" },
        { word: "GeologÃ­a", hint: "Tierra" },
      ],    
    },
    lugares: { 
      general: [
        { word: "Parque", hint: "Naturaleza" },
        { word: "Museo", hint: "Arte" },
        { word: "Restaurante", hint: "Comida" },
        { word: "Cine", hint: "PelÃ­culas" },
        { word: "Teatro", hint: "Escenario" },
        { word: "Biblioteca", hint: "Libros" },
        { word: "Playa", hint: "Arena" },
        { word: "MontaÃ±a", hint: "Altura" },
        { word: "Ciudad", hint: "Urbano" },
        { word: "Pueblo", hint: "PequeÃ±o" },
        { word: "Hotel", hint: "Alojamiento" },
        { word: "Aeropuerto", hint: "Aviones" },
        { word: "EstaciÃ³n", hint: "Trenes" },
        { word: "Iglesia", hint: "ReligiÃ³n" },
        { word: "Castillo", hint: "Fortaleza" },
        { word: "Monumento", hint: "Historia" },
      ],    
    },
  };

  const defaultPlayers = [
    { id: "1", name: "Jugador 1", color: "#FF3B30" },
    { id: "2", name: "Jugador 2", color: "#34C759" },
    { id: "3", name: "Jugador 3", color: "#007AFF" },
  ];

  // ğŸ“¦ Cargar jugadores guardados
  useEffect(() => {
    const loadPlayers = async () => {
      try {
        const stored = await AsyncStorage.getItem("players");
        if (stored) {
          setPlayers(JSON.parse(stored));
        } else {
          setPlayers(defaultPlayers);
        }
      } catch (e) {
        console.log("Error cargando jugadores:", e);
        setPlayers(defaultPlayers);
      }
    };
    loadPlayers();
  }, []);

  // ğŸ’¾ Guardar jugadores cuando cambien
  useEffect(() => {
    if (players.length > 0) {
      AsyncStorage.setItem("players", JSON.stringify(players));
    }
  }, [players]);

  // ğŸ”„ Reiniciar sin borrar jugadores
  const resetGame = () => {
    setImpostorId(null);
    setWord("");
    setHint("");
    setGameWinner(null);
    setAlivePlayers([]);
  };

  // ğŸš€ Iniciar partida
  const startGame = (count = impostorCount, category = "general", subCategory = "general") => {
    if (word && hint) {
      console.log("â© Juego ya iniciado, usando palabra existente:", word);
      return { word, hint, impostorId, category, subCategory };
    }

    const chosenCategory = defaultWords[category] ? category : "general";
    const subCategories = defaultWords[chosenCategory];
    const subCategoryKeys = Object.keys(subCategories);
    const chosenSubCategory = subCategoryKeys.includes(subCategory)
      ? subCategory
      : "general";

    const words = subCategories[chosenSubCategory];
    const pick = words[Math.floor(Math.random() * words.length)];

    setWord(pick.word);
    setHint(pick.hint);

    const impostorCountToUse = Math.min(count, players.length - 1);
    const shuffled = [...players].sort(() => Math.random() - 0.5);
    const impostorPlayers = shuffled.slice(0, impostorCountToUse);
    const impostorIds = impostorPlayers.map((p) => p.id);

    setImpostorId(impostorIds[0]);

    console.log("ğŸ•µï¸ Impostores:", impostorIds);
    console.log("ğŸ“œ Palabra:", pick.word, "| ğŸ’¡ hint:", pick.hint);

    return {
      impostorId: impostorIds[0],
      impostorIds,
      word: pick.word,
      hint: pick.hint,
      category: chosenCategory,
      subCategory: chosenSubCategory,
    };
  };

  return (
    <GameContext.Provider
      value={{
        players,
        setPlayers,
        alivePlayers,
        setAlivePlayers,
        impostorId,
        setImpostorId,
        startGame,
        resetGame,
        gameWinner,
        setGameWinner,
        word,
        setWord,
        hint,
        setHint,
        categories: Object.keys(defaultWords),
        getSubCategories: (cat) => Object.keys(defaultWords[cat] || { general: [] }),
        defaultWords,
        category,
        setCategory,
        subCategory,
        setSubCategory,
        soundEnabled,
        setSoundEnabled,
        impostorCount,
        setImpostorCount,
        setHintsEnabled,
      }}
    >
      {children}
    </GameContext.Provider>
  );
}

export const useGameContext = () => useContext(GameContext);